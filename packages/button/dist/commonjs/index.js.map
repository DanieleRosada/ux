{"version":3,"file":"index.js","sources":["../../src/ux-button.ts","../../src/ux-button-theme.ts","../../src/index.ts"],"sourcesContent":["import { customElement, bindable, inlineView } from 'aurelia-templating';\nimport { inject } from 'aurelia-dependency-injection';\nimport { StyleEngine, UxComponent, PaperRipple, normalizeBooleanAttribute } from '@aurelia-ux/core';\nimport { UxButtonTheme } from './ux-button-theme';\nimport * as VIEW from './ux-button.html';\n\n@inject(Element, StyleEngine)\n@customElement('ux-button')\n@inlineView(VIEW)\nexport class UxButton implements UxComponent {\n  @bindable public type: string | null;\n  @bindable public size: string | null;\n  @bindable public effect: string | null;\n\n  @bindable public disabled: boolean | string = false;\n\n  @bindable public theme: UxButtonTheme;\n\n  private ripple: PaperRipple | null = null;\n  private button: HTMLButtonElement;\n\n  constructor(\n    public element: HTMLElement,\n    private styleEngine: StyleEngine) { }\n\n  public bind() {\n    if (normalizeBooleanAttribute('disabled', this.disabled)) {\n      this.button.setAttribute('disabled', '');\n    }\n\n    this.themeChanged(this.theme);\n    this.typeChanged(this.type);\n    this.sizeChanged(this.size);\n    this.effectChanged(this.effect);\n  }\n\n  public typeChanged(newValue: string | null) {\n    const typeClasses = [\n      'ux-button--text',\n      'ux-button--flat',\n      'ux-button--outline',\n      'ux-button--raised',\n      'ux-button--fab'\n    ];\n\n    this.button.classList.remove(...typeClasses);\n\n    if (newValue === 'fab') {\n      this.element.classList.add('ux-fab-button');\n    } else {\n      this.element.classList.remove('ux-fab-button');\n    }\n\n    if (newValue == null || typeClasses.includes(`ux-button--${newValue}`) === false) {\n      newValue = 'raised';\n    }\n\n    this.button.classList.add(`ux-button--${newValue}`);\n  }\n\n  public sizeChanged(newValue: string | null) {\n    const sizeClasses = ['ux-button--small', 'ux-button--medium', 'ux-button--large'];\n\n    this.element.classList.remove(...sizeClasses);\n\n    if (newValue == null || sizeClasses.includes(`ux-button--${newValue}`) === false) {\n      newValue = 'medium';\n    }\n\n    this.element.classList.add(`ux-button--${newValue}`);\n  }\n\n  public effectChanged(newValue: string | null) {\n    const effectClasses = ['ux-button--ripple'];\n\n    this.button.classList.remove(...effectClasses);\n\n    if (newValue == null || effectClasses.includes(`ux-button--${newValue}`) === false) {\n      newValue = 'ripple';\n    }\n\n    this.button.classList.add(`ux-button--${newValue}`);\n  }\n\n  public themeChanged(newValue: any) {\n    if (newValue != null && newValue.themeKey == null) {\n      newValue.themeKey = 'button';\n    }\n\n    this.styleEngine.applyTheme(newValue, this.element);\n  }\n\n  public disabledChanged(newValue: boolean | string) {\n    if (normalizeBooleanAttribute('disabled', newValue)) {\n      this.button.setAttribute('disabled', '');\n    } else {\n      this.button.removeAttribute('disabled');\n    }\n  }\n\n  public onMouseDown(e: MouseEvent) {\n    if (this.button.classList.contains('ux-button--ripple')) {\n      if (this.ripple === null) {\n        this.ripple = new PaperRipple();\n        this.button.appendChild(this.ripple.$);\n      }\n\n      if (this.button.classList.contains('ux-button--fab')) {\n        this.ripple.center = true;\n        this.ripple.round = true;\n      }\n\n      this.ripple.downAction(e);\n    }\n\n    return true;\n  }\n\n  public onMouseUp() {\n    if (this.button.classList.contains('ux-button--ripple') && this.ripple !== null) {\n      this.ripple.upAction();\n    }\n\n    return true;\n  }\n}\n","import { UxTheme } from '@aurelia-ux/core';\n\nexport class UxButtonTheme implements UxTheme {\n  public themeKey = 'button';\n\n  public background: string;\n  public foreground: string;\n\n  public accentBackground: string;\n  public accentForeground: string;\n\n  public flatBackground: string;\n  public flatForeground: string;\n\n  public textBackground: string;\n  public textForeground: string;\n\n  public outlineForeground: string;\n  public outlineBorder: string;\n\n  public accentFlatBackground: string;\n  public accentFlatForeground: string;\n\n  public backgroundDisabled: string;\n  public foregroundDisabled: string;\n\n  public fontWeight: string;\n  public fontSize: string;\n  public letterSpacing: string;\n  public textTransform: string;\n}\n","import { FrameworkConfiguration } from 'aurelia-framework';\nimport { UxButton } from './ux-button';\n\nexport { UxButtonTheme } from './ux-button-theme';\n\nexport function configure(config: FrameworkConfiguration) {\n  config.globalResources(UxButton);\n}\n\nexport { UxButton }\n"],"names":["normalizeBooleanAttribute","PaperRipple","bindable","inject","StyleEngine","customElement","inlineView"],"mappings":"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"}
{"version":3,"file":"index.js","sources":["../../src/ux-button.ts","../../src/ux-button-theme.ts","../../src/index.ts"],"sourcesContent":["import { customElement, bindable, inlineView } from 'aurelia-templating';\nimport { inject } from 'aurelia-dependency-injection';\nimport { StyleEngine, UxComponent, PaperRipple, normalizeBooleanAttribute } from '@aurelia-ux/core';\nimport { UxButtonTheme } from './ux-button-theme';\nimport * as VIEW from './ux-button.html';\n\n@inject(Element, StyleEngine)\n@customElement('ux-button')\n@inlineView(VIEW)\nexport class UxButton implements UxComponent {\n  @bindable public type: string | null;\n  @bindable public size: string | null;\n  @bindable public effect: string | null;\n\n  @bindable public disabled: boolean | string = false;\n\n  @bindable public theme: UxButtonTheme;\n\n  private ripple: PaperRipple | null = null;\n  private button: HTMLButtonElement;\n\n  constructor(\n    public element: HTMLElement,\n    private styleEngine: StyleEngine) { }\n\n  public bind() {\n    if (normalizeBooleanAttribute('disabled', this.disabled)) {\n      this.button.setAttribute('disabled', '');\n    }\n\n    this.themeChanged(this.theme);\n    this.typeChanged(this.type);\n    this.sizeChanged(this.size);\n    this.effectChanged(this.effect);\n  }\n\n  public typeChanged(newValue: string | null) {\n    const typeClasses = [\n      'ux-button--text',\n      'ux-button--flat',\n      'ux-button--outline',\n      'ux-button--raised',\n      'ux-button--fab'\n    ];\n\n    this.button.classList.remove(...typeClasses);\n\n    if (newValue === 'fab') {\n      this.element.classList.add('ux-fab-button');\n    } else {\n      this.element.classList.remove('ux-fab-button');\n    }\n\n    if (newValue == null || typeClasses.includes(`ux-button--${newValue}`) === false) {\n      newValue = 'raised';\n    }\n\n    this.button.classList.add(`ux-button--${newValue}`);\n  }\n\n  public sizeChanged(newValue: string | null) {\n    const sizeClasses = ['ux-button--small', 'ux-button--medium', 'ux-button--large'];\n\n    this.element.classList.remove(...sizeClasses);\n\n    if (newValue == null || sizeClasses.includes(`ux-button--${newValue}`) === false) {\n      newValue = 'medium';\n    }\n\n    this.element.classList.add(`ux-button--${newValue}`);\n  }\n\n  public effectChanged(newValue: string | null) {\n    const effectClasses = ['ux-button--ripple'];\n\n    this.button.classList.remove(...effectClasses);\n\n    if (newValue == null || effectClasses.includes(`ux-button--${newValue}`) === false) {\n      newValue = 'ripple';\n    }\n\n    this.button.classList.add(`ux-button--${newValue}`);\n  }\n\n  public themeChanged(newValue: any) {\n    if (newValue != null && newValue.themeKey == null) {\n      newValue.themeKey = 'button';\n    }\n\n    this.styleEngine.applyTheme(newValue, this.element);\n  }\n\n  public disabledChanged(newValue: boolean | string) {\n    if (normalizeBooleanAttribute('disabled', newValue)) {\n      this.button.setAttribute('disabled', '');\n    } else {\n      this.button.removeAttribute('disabled');\n    }\n  }\n\n  public onMouseDown(e: MouseEvent) {\n    if (this.button.classList.contains('ux-button--ripple')) {\n      if (this.ripple === null) {\n        this.ripple = new PaperRipple();\n        this.button.appendChild(this.ripple.$);\n      }\n\n      if (this.button.classList.contains('ux-button--fab')) {\n        this.ripple.center = true;\n        this.ripple.round = true;\n      }\n\n      this.ripple.downAction(e);\n    }\n\n    return true;\n  }\n\n  public onMouseUp() {\n    if (this.button.classList.contains('ux-button--ripple') && this.ripple !== null) {\n      this.ripple.upAction();\n    }\n\n    return true;\n  }\n}\n","import { UxTheme } from '@aurelia-ux/core';\n\nexport class UxButtonTheme implements UxTheme {\n  public themeKey = 'button';\n\n  public background: string;\n  public foreground: string;\n\n  public accentBackground: string;\n  public accentForeground: string;\n\n  public flatBackground: string;\n  public flatForeground: string;\n\n  public textBackground: string;\n  public textForeground: string;\n\n  public outlineForeground: string;\n  public outlineBorder: string;\n\n  public accentFlatBackground: string;\n  public accentFlatForeground: string;\n\n  public backgroundDisabled: string;\n  public foregroundDisabled: string;\n\n  public fontWeight: string;\n  public fontSize: string;\n  public letterSpacing: string;\n  public textTransform: string;\n}\n","import { FrameworkConfiguration } from 'aurelia-framework';\nimport { UxButton } from './ux-button';\n\nexport { UxButtonTheme } from './ux-button-theme';\n\nexport function configure(config: FrameworkConfiguration) {\n  config.globalResources(UxButton);\n}\n\nexport { UxButton }\n"],"names":["normalizeBooleanAttribute","PaperRipple","bindable","inject","StyleEngine","customElement","inlineView"],"mappings":"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"}
{"version":3,"file":"index.js","sources":["../../src/resources/moment.ts","../../src/resources/datetime-utility.ts","../../src/ux-calendar.ts","../../src/ux-datepicker.ts","../../src/ux-picker-dialog.ts","../../src/ux-year-list.ts","../../src/ux-datepicker-theme.ts","../../src/index.ts"],"sourcesContent":["import * as moment from 'moment';\n\nconst _moment = moment;\nexport { _moment as moment };\nexport { Moment } from 'moment';\n","import { DatepickerSettings } from './datepicker-settings';\nimport { moment, Moment } from './moment';\n\nexport class DatetimeUtility {\n\n  /**\n   * Checks to see if a date is beyond the min or max set date\n   * @param date The date to check\n   */\n  public static dateOutOfRange(date: Moment, minDate: Moment, maxDate: Moment, config: DatepickerSettings) {\n    let result = false;\n\n    if (minDate != null && date.isBefore(minDate, 'day')) {\n      result = true;\n    }\n\n    if (maxDate != null && date.isAfter(maxDate, 'day')) {\n      result = true;\n    }\n\n    if (config && config.calendarSettings) {\n      const settings = config.calendarSettings;\n\n      if (settings.disableDays &&\n        settings.disableDays.some(disabledDate => this.checkDayForDisabled(disabledDate, date))) {\n        result = true;\n      }\n    }\n\n    return result;\n  }\n\n  private static checkDayForDisabled(disabledDateConfig: any, date: Moment) {\n    if (disabledDateConfig.weekday != null) {\n      return disabledDateConfig.weekday === date.weekday();\n    }\n\n    if (disabledDateConfig.day || disabledDateConfig.month || disabledDateConfig.year) {\n      const disabledDate = { ...disabledDateConfig };\n\n      if (disabledDate.year == null) {\n        disabledDate.year = date.year();\n      }\n\n      if (disabledDate.day == null) {\n        disabledDate.day = date.date();\n      }\n\n      if (disabledDate.month == null) {\n        disabledDate.month = date.month() + 1;\n      }\n\n      const parsedVal = moment(`${disabledDate.month}-${disabledDate.day}-${disabledDate.year}`);\n\n      return parsedVal.isValid() && parsedVal.isSame(date, 'day');\n    }\n\n    return false;\n  }\n}\n","import { customElement, bindable, ViewResources, inlineView } from 'aurelia-templating';\nimport { observable } from 'aurelia-binding';\nimport { inject } from 'aurelia-dependency-injection';\nimport { DatetimeUtility } from './resources/datetime-utility';\nimport { DatepickerSettings } from './resources/datepicker-settings';\nimport { moment, Moment } from './resources/moment';\nimport * as UX_CALENDAR_VIEW from './ux-calendar.html';\n\n@inject(ViewResources)\n@customElement('ux-calendar')\n@inlineView(UX_CALENDAR_VIEW)\nexport class UxCalendar {\n    @bindable public theme = null;\n\n    @bindable public weekdays = moment.weekdays();\n\n    @bindable public minDate: Moment;\n    @bindable public maxDate: Moment;\n\n    @bindable public value: Moment;\n    @bindable public config: DatepickerSettings;\n\n    private calendarRows = new Array<any>();\n\n    @observable private displayMonth: Moment;\n\n    constructor(public resources: ViewResources) { }\n\n    public bind() {\n        this.displayMonth = this.value.clone();\n    }\n\n    public previousMonth() {\n        this.displayMonth = this.displayMonth.clone().subtract(1, 'month');\n    }\n\n    public nextMonth() {\n        this.displayMonth = this.displayMonth.clone().add(1, 'month');\n    }\n\n    public changeCalendarSelection(newDate: Moment) {\n        const modifiedDate = this.value.clone()\n            .set('date', newDate.date())\n            .set('month', newDate.month())\n            .set('year', newDate.year());\n\n        if (this.isValidDate(modifiedDate)) {\n            return;\n        }\n\n        this.value = modifiedDate;\n    }\n\n    public displayMonthChanged(newDate: Moment) {\n        this.calendarRows = new Array<any>();\n\n        const clonedDate = newDate.clone();\n\n        const firstDay = clonedDate.startOf('month').weekday();\n        const daysInMonth = newDate.daysInMonth();\n\n        let currentWeek = new Array<any>();\n\n        while (currentWeek.length < firstDay) {\n            currentWeek.push(null);\n        }\n\n        for (let index = 0; index < daysInMonth; index++) {\n            currentWeek.push(clonedDate.clone().add(index, 'days'));\n\n            if (currentWeek.length === 7) {\n                this.calendarRows.push(currentWeek);\n\n                currentWeek = new Array<any>();\n            }\n        }\n\n        if (currentWeek.length > 0) {\n            while (currentWeek.length < 7) {\n                currentWeek.push(null);\n            }\n\n            this.calendarRows.push(currentWeek);\n        }\n    }\n\n    private isValidDate(date: Moment) {\n        return DatetimeUtility.dateOutOfRange(date, this.minDate, this.maxDate, this.config);\n    }\n}\n","import { customElement, bindable, ViewResources, inlineView } from 'aurelia-templating';\nimport { bindingMode } from 'aurelia-binding';\nimport { inject } from 'aurelia-dependency-injection';\nimport { StyleEngine, UxComponent } from '@aurelia-ux/core';\nimport { DatetimeUtility } from './resources/datetime-utility';\nimport { DatepickerSettings } from './resources/datepicker-settings';\nimport { UxDatepickerTheme } from './ux-datepicker-theme';\nimport { moment } from './resources/moment';\nimport * as UX_DATEPICKER_VIEW from './ux-datepicker.html';\n\n@inject(Element, ViewResources, StyleEngine)\n@customElement('ux-datepicker')\n@inlineView(UX_DATEPICKER_VIEW)\nexport class UxDatepicker implements UxComponent {\n  @bindable public theme: UxDatepickerTheme;\n\n  @bindable public display = 'month';\n  @bindable public type = 'datetime';\n  @bindable public initialDate: any;\n  @bindable public minTime: any;\n  @bindable public maxTime: any;\n  @bindable public minDate: any;\n  @bindable public maxDate: any;\n  @bindable public placeholder: any;\n  @bindable public config: DatepickerSettings;\n\n  @bindable public formatters = {\n    date: 'L',\n    time: 'LT',\n    datetime: 'L LT'\n  };\n\n  @bindable public parsers = {\n    time: ['h:m a', 'H:m']\n  };\n\n  @bindable({ defaultBindingMode: bindingMode.twoWay })\n  public value: any;\n\n  public textbox: HTMLInputElement;\n  private textboxValue: string;\n  private showDialog = false;\n\n  constructor(public element: HTMLElement, public resources: ViewResources, public styleEngine: StyleEngine) { }\n\n  public bind() {\n    this.processAttribute('placeholder');\n\n    if (this.initialDate != null) {\n      const dateParse = moment(this.initialDate);\n\n      if (dateParse.isValid()) {\n        this.initialDate = dateParse;\n      }\n    } else {\n      this.initialDate = moment();\n    }\n\n    if (this.minDate != null) {\n      const dateParse = moment(this.minDate);\n\n      this.minDate = dateParse.isValid() ? dateParse : null;\n    }\n\n    if (this.maxDate != null) {\n      const dateParse = moment(this.maxDate);\n\n      this.maxDate = dateParse.isValid() ? dateParse : null;\n    }\n\n    if (this.minTime != null) {\n      const dateParse = moment(this.minTime, this.parsers.time);\n\n      this.minTime = dateParse.isValid() ? dateParse : null;\n    }\n\n    if (this.maxTime != null) {\n      const dateParse = moment(this.maxTime, this.parsers.time);\n\n      this.maxTime = dateParse.isValid() ? dateParse : null;\n    }\n\n    this.valueChanged(this.value);\n    this.themeChanged(this.theme);\n  }\n\n  public toggleDialog(display: string) {\n    if (this.showDialog) {\n      this.showDialog = false;\n      return;\n    }\n\n    this.display = display;\n\n    this.showDialog = true;\n  }\n\n  public changeTextboxValue() {\n    if (!this.textboxValue) {\n      this.value = null;\n      return;\n    }\n\n    let parseValue;\n\n    parseValue = this.type === 'time' ? moment(this.textboxValue, this.parsers.time) : moment(this.textboxValue);\n\n    if (parseValue.isValid() &&\n      DatetimeUtility.dateOutOfRange(parseValue, this.minDate, this.maxDate, this.config) === false) {\n      this.value = parseValue.toDate();\n    } else {\n      this.value = null;\n      this.textboxValue = '';\n    }\n  }\n\n  public valueChanged(newValue: Date) {\n    if (newValue == null) {\n      return;\n    }\n\n    if (this.type.toLowerCase() === 'datetime') {\n      this.textboxValue = moment(newValue).format(this.formatters.datetime);\n    }\n\n    if (this.type.toLowerCase() === 'date') {\n      this.textboxValue = moment(newValue).format(this.formatters.date);\n    }\n\n    if (this.type.toLowerCase() === 'time') {\n      this.textboxValue = moment(newValue).format(this.formatters.time);\n    }\n\n    this.showDialog = false;\n  }\n\n  public minDateChanged(newValue: any) {\n    if (newValue != null && newValue instanceof moment === false) {\n      const dateParse = moment(newValue);\n\n      this.minDate = dateParse.isValid() ? dateParse : null;\n    }\n  }\n\n  public maxDateChanged(newValue: any) {\n    if (newValue != null && newValue instanceof moment === false) {\n      const dateParse = moment(newValue);\n\n      this.maxDate = dateParse.isValid() ? dateParse : null;\n    }\n  }\n\n  public minTimeChanged(newValue: any) {\n    if (newValue != null && newValue instanceof moment === false) {\n      const dateParse = moment(newValue, this.parsers.time);\n\n      this.minTime = dateParse.isValid() ? dateParse : null;\n    }\n  }\n\n  public maxTimeChanged(newValue: any) {\n    if (newValue != null && newValue instanceof moment === false) {\n      const dateParse = moment(newValue, this.parsers.time);\n\n      this.maxTime = dateParse.isValid() ? dateParse : null;\n    }\n  }\n\n  public themeChanged(newValue: any) {\n    if (newValue != null && newValue.themeKey == null) {\n      newValue.themeKey = 'datepicker';\n    }\n\n    this.styleEngine.applyTheme(newValue, this.element);\n  }\n\n  private processAttribute(attributeName: string) {\n    const attributeValue = this.element.getAttribute('placeholder');\n\n    if (attributeValue) {\n      this.element.removeAttribute(attributeName);\n      this.textbox.setAttribute(attributeName, attributeValue)\n    }\n  }\n}\n","import { customElement, bindable, ViewResources, inlineView } from 'aurelia-templating';\nimport { inject } from 'aurelia-dependency-injection';\nimport { DatepickerSettings } from './resources/datepicker-settings';\nimport { moment, Moment } from './resources/moment';\nimport * as UX_PICKER_DIALOG_VIEW from './ux-picker-dialog.html';\n\n@inject(ViewResources)\n@customElement('ux-picker-dialog')\n@inlineView(UX_PICKER_DIALOG_VIEW)\nexport class UxPickerDialog {\n  @bindable public theme = null;\n  @bindable public type = 'datetime';\n  @bindable public display = 'month';\n  @bindable public weekdays: any;\n  @bindable public config: DatepickerSettings;\n  @bindable public initialDate: any;\n  @bindable public minDate: Moment;\n  @bindable public maxDate: Moment;\n  @bindable public value: Date | null;\n  @bindable public closeDialog: () => {};\n\n  private selectedDate: Moment;\n\n  constructor(public resources: ViewResources) { }\n\n  public bind() {\n    if (this.value != null) {\n      this.selectedDate = moment(this.value);\n    } else {\n      this.selectedDate = this.initialDate;\n\n      if (this.minDate != null && this.selectedDate.isBefore(this.minDate)) {\n        this.selectedDate = moment(this.minDate).clone();\n      }\n\n      if (this.maxDate != null && this.selectedDate.isBefore(this.maxDate)) {\n        this.selectedDate = moment(this.minDate).clone();\n      }\n    }\n  }\n\n  public valueChanged(newDate: Date) {\n    this.selectedDate = moment(newDate);\n  }\n\n  public selectDate() {\n    if (this.selectedDate != null) {\n      this.value = this.selectedDate.toDate();\n    }\n  }\n\n  public changeView(view: string) {\n    this.display = view;\n  }\n}\n","import { customElement, bindable, ViewResources, inlineView } from 'aurelia-templating';\nimport { inject } from 'aurelia-dependency-injection';\nimport { computedFrom } from 'aurelia-binding';\nimport { Moment } from './resources/moment';\nimport * as UX_YEAR_LIST_VIEW from './ux-year-list.html';\n\n@inject(Element, ViewResources)\n@customElement('ux-year-list')\n@inlineView(UX_YEAR_LIST_VIEW)\nexport class UxYearList {\n  @bindable public theme = null;\n\n  @bindable public minDate: Moment;\n  @bindable public maxDate: Moment;\n\n  @bindable public value: Moment;\n\n  private today = new Date();\n\n  constructor(public element: Element, public resources: ViewResources) {\n    this.today.setHours(0, 0, 0, 0);\n  }\n\n  public attached() {\n    this.scrollToActive();\n  }\n\n  public selectYear(year: number) {\n    this.value = this.value.clone().set('year', year);\n  }\n\n  @computedFrom('minDate', 'maxDate')\n  public get yearList() {\n    const yearList: number[] = [];\n    let min = 1900;\n    let max = 2100;\n\n    if (this.minDate) {\n      min = this.minDate.year();\n    }\n\n    if (this.maxDate) {\n      max = this.maxDate.year();\n    }\n\n    while (min <= max) {\n      yearList.push(min);\n\n      min++;\n    }\n\n    return yearList;\n  }\n\n  private scrollToActive() {\n    let selected = this.element.querySelector('div.selected');\n\n    if (selected == null && this.element.children.length > 5) {\n      selected = this.element.children[Math.round(this.element.children.length / 2)];\n    }\n\n    if (selected != null) {\n      selected.scrollIntoView();\n    }\n  }\n}\n","import { UxTheme } from '@aurelia-ux/core';\n\nexport class UxDatepickerTheme implements UxTheme {\n  public themeKey = 'datepicker';\n\n  public foreground: string;\n  public overlay: string;\n  public calendarIcon: string;\n\n  // datepicker modal\n  public headerForeground: string;\n  public headerBackground: string;\n\n  // calendar properties\n  public weekdayForeground: string;\n  public selectedDayForeground: string;\n  public selectedDayBackground: string;\n  public outOfRangeForeground: string;\n}\n","/// <reference path=\"html.d.ts\" />\nimport { FrameworkConfiguration } from 'aurelia-framework';\nimport { UxCalendar } from './ux-calendar';\nimport { UxDatepicker } from './ux-datepicker';\nimport { UxPickerDialog } from './ux-picker-dialog';\nimport { UxYearList } from './ux-year-list';\n\nexport { DatepickerSettings } from './resources/datepicker-settings';\n\nexport { UxDatepickerTheme } from './ux-datepicker-theme';\n\nexport function configure(config: FrameworkConfiguration) {\n  config.globalResources([\n    UxCalendar,\n    UxDatepicker,\n    UxPickerDialog,\n    UxYearList\n  ]);\n}\n"],"names":["moment"],"mappings":"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"}
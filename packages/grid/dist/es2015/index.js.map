{"version":3,"file":"index.js","sources":["../../src/ux-grid.ts","../../src/ux-grid-cell.ts","../../src/ux-responsive-utilities.ts","../../src/ux-grid-theme.ts","../../src/index.ts"],"sourcesContent":["import { customElement, bindable, inlineView } from 'aurelia-templating';\nimport { inject } from 'aurelia-dependency-injection';\nimport { StyleEngine, UxComponent } from '@aurelia-ux/core';\nimport { UxGridTheme } from './ux-grid-theme';\nimport * as VIEW from './ux-grid.html';\n\n@inject(Element, StyleEngine)\n@customElement('ux-grid')\n@inlineView(VIEW)\nexport class UxGrid implements UxComponent {\n  @bindable public theme: UxGridTheme;\n  @bindable public columns: null | number;\n\n  constructor(\n    public element: HTMLElement,\n    private styleEngine: StyleEngine) { }\n\n  public bind() {\n    this.themeChanged(this.theme);\n\n    if (this.columns != null) {\n      this.columnsChanged(this.columns);\n    }\n\n    this.processAttributes();\n  }\n\n  public processAttributes() {\n    const alignAttributes = [\n      'align-cells-top',\n      'align-cells-middle',\n      'align-cells-bottom',\n      'fixed',\n      'remove-padding'\n    ];\n\n    for (const attribute of alignAttributes) {\n      if (this.element.hasAttribute(attribute)) {\n        this.element.removeAttribute(attribute);\n        this.element.classList.add(`ux-grid--${attribute}`);\n      }\n    }\n  }\n\n  public themeChanged(newValue: any) {\n    if (newValue != null && newValue.themeKey == null) {\n      newValue.themeKey = 'grid';\n    }\n\n    this.styleEngine.applyTheme(newValue, this.element);\n  }\n\n  public columnsChanged(newValue: null | number) {\n    if (newValue != null) {\n      this.element.style.setProperty('grid-template-columns', `repeat(${newValue}, 1fr)`);\n    }\n  }\n}\n","import { customElement, bindable, inlineView } from 'aurelia-templating';\nimport { inject } from 'aurelia-dependency-injection';\nimport * as VIEW from './ux-grid-cell.html';\n\n@inject(Element)\n@customElement('ux-grid-cell')\n@inlineView(VIEW)\nexport class UxGridCell {\n  @bindable public xs?: string;\n  @bindable public sm?: string;\n  @bindable public md?: string;\n  @bindable public lg?: string;\n  @bindable public xl?: string;\n  @bindable public order?: string;\n\n  constructor(private element: HTMLElement) { }\n\n  public async bind() {\n    this.processAttributes();\n\n    this.xsChanged(this.xs);\n    this.smChanged(this.sm);\n    this.mdChanged(this.md);\n    this.lgChanged(this.lg);\n    this.xlChanged(this.xl);\n  }\n\n  public processAttributes() {\n    const alignAttributes = [\n      'align-self-top',\n      'align-self-middle',\n      'align-self-bottom',\n      'align-self-stretch'\n    ];\n\n    for (const attribute of alignAttributes) {\n      if (this.element.hasAttribute(attribute)) {\n        this.element.removeAttribute(attribute);\n        this.element.classList.add(`ux-grid-cell--${attribute}`);\n      }\n    }\n  }\n\n  public xsChanged(newValue?: string) {\n    this.sizeChanged('xs', newValue);\n  }\n\n  public smChanged(newValue?: string) {\n    this.sizeChanged('sm', newValue);\n  }\n\n  public mdChanged(newValue?: string) {\n    this.sizeChanged('md', newValue);\n  }\n\n  public lgChanged(newValue?: string) {\n    this.sizeChanged('lg', newValue);\n  }\n\n  public xlChanged(newValue?: string) {\n    this.sizeChanged('xl', newValue);\n  }\n\n  public sizeChanged(size: string, value?: string) {\n    for (let i = 0; i < 10; i++) {\n      this.element.classList.remove(`ux-grid-cell--${size}-${i}`);\n      this.element.classList.remove(`ux-grid-cell--order-${this.order}-${size}-${i}`);\n    }\n\n    if (typeof value === 'string') {\n      this.element.classList.add(`ux-grid-cell--${size}-${value}`);\n\n      if (typeof this.order === 'string') {\n        this.element.classList.add(`ux-grid-cell--order-${this.order}-${size}-${value}`);\n      }\n    }\n  }\n\n  public orderChanged() {\n    this.xsChanged(this.xs);\n    this.smChanged(this.sm);\n    this.mdChanged(this.md);\n    this.lgChanged(this.lg);\n    this.xlChanged(this.xl);\n  }\n}\n","import { PLATFORM } from 'aurelia-pal';\nimport { Disposable } from 'aurelia-binding';\n\n/** Utility class that assists with designing a responsive site. */\nexport class UxResponsiveUtilities implements Disposable {\n\n  /** Current screen height that can be used to set custom breakpoints. */\n  public height: number;\n\n  /** Current screen width that can be used to set custom breakpoints. */\n  public width: number;\n\n  /** Visible on screens smaller than 480px. */\n  public xs: boolean = false;\n\n  /** Visible on screens larger than 480px, and smaller than 960px. */\n  public sm: boolean = false;\n\n  /** Visible on screens larger than 960px, and smaller than 1280px. */\n  public md: boolean = false;\n\n  /** Visible on screens larger than 1280px, and smaller than 1925px. */\n  public lg: boolean = false;\n\n  /** Visible on screens larger than 1925px. */\n  public xl: boolean = false;\n\n  private updating = false;\n\n  constructor() {\n    PLATFORM.global.addEventListener('resize', () => this.onResize());\n\n    this.calculateResponsiveValues();\n  }\n\n  private onResize() {\n    if (this.updating) {\n      return;\n    }\n\n    this.updating = true;\n\n    if (PLATFORM.global.requestAnimationFrame) {\n      PLATFORM.global.requestAnimationFrame(this.calculateResponsiveValues);\n    } else {\n      setTimeout(this.calculateResponsiveValues, 100);\n    }\n  }\n\n  private calculateResponsiveValues = () => {\n    this.height = PLATFORM.global.innerHeight;\n    this.width = PLATFORM.global.innerWidth;\n\n    this.xs = this.width <= 480;\n    this.sm = this.width > 480 && this.width <= 960;\n    this.md = this.width > 960 && this.width <= 1280;\n    this.lg = this.width > 1280 && this.width <= 1925;\n    this.xl = this.width > 1925;\n\n    this.updating = false;\n  }\n\n  public dispose() {\n    PLATFORM.global.removeEventListener('resize', this.calculateResponsiveValues);\n  }\n}\n","import { UxTheme } from '@aurelia-ux/core';\n\nexport class UxGridTheme implements UxTheme {\n  public themeKey = 'grid';\n\n  public outerPadding: string;\n  public gutterSpacing: string;\n}\n","/// <reference path=\"html.d.ts\" />\nimport { FrameworkConfiguration } from 'aurelia-framework';\nimport { UxGrid } from './ux-grid';\nimport { UxGridCell } from './ux-grid-cell';\n\nexport { UxResponsiveUtilities } from './ux-responsive-utilities';\nexport { UxGridTheme } from './ux-grid-theme';\nexport { UxGrid, UxGridCell };\n\nexport function configure(config: FrameworkConfiguration) {\n  config.globalResources([\n    UxGrid,\n    UxGridCell\n  ]);\n}\n"],"names":["VIEW"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IASa,MAAM,GAAnB,MAAa,MAAM;IAIjB,YACS,OAAoB,EACnB,WAAwB;QADzB,YAAO,GAAP,OAAO,CAAa;QACnB,gBAAW,GAAX,WAAW,CAAa;KAAK;IAEhC,IAAI;QACT,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAE9B,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,EAAE;YACxB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACnC;QAED,IAAI,CAAC,iBAAiB,EAAE,CAAC;KAC1B;IAEM,iBAAiB;QACtB,MAAM,eAAe,GAAG;YACtB,iBAAiB;YACjB,oBAAoB;YACpB,oBAAoB;YACpB,OAAO;YACP,gBAAgB;SACjB,CAAC;QAEF,KAAK,MAAM,SAAS,IAAI,eAAe,EAAE;YACvC,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,SAAS,CAAC,EAAE;gBACxC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;gBACxC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,SAAS,EAAE,CAAC,CAAC;aACrD;SACF;KACF;IAEM,YAAY,CAAC,QAAa;QAC/B,IAAI,QAAQ,IAAI,IAAI,IAAI,QAAQ,CAAC,QAAQ,IAAI,IAAI,EAAE;YACjD,QAAQ,CAAC,QAAQ,GAAG,MAAM,CAAC;SAC5B;QAED,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;KACrD;IAEM,cAAc,CAAC,QAAuB;QAC3C,IAAI,QAAQ,IAAI,IAAI,EAAE;YACpB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC,uBAAuB,EAAE,UAAU,QAAQ,QAAQ,CAAC,CAAC;SACrF;KACF;CACF,CAAA;AA/CW;IAAT,QAAQ;qCAA2B;AAC1B;IAAT,QAAQ;uCAA+B;AAF7B,MAAM;IAHlB,MAAM,CAAC,OAAO,EAAE,WAAW,CAAC;IAC5B,aAAa,CAAC,SAAS,CAAC;IACxB,UAAU,CAAC,IAAI,CAAC;GACJ,MAAM,CAgDlB;;;;;;;;;IClDY,UAAU,GAAvB,MAAa,UAAU;IAQrB,YAAoB,OAAoB;QAApB,YAAO,GAAP,OAAO,CAAa;KAAK;IAEhC,IAAI;;YACf,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAEzB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACxB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACxB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACxB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACxB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;SACzB;KAAA;IAEM,iBAAiB;QACtB,MAAM,eAAe,GAAG;YACtB,gBAAgB;YAChB,mBAAmB;YACnB,mBAAmB;YACnB,oBAAoB;SACrB,CAAC;QAEF,KAAK,MAAM,SAAS,IAAI,eAAe,EAAE;YACvC,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,SAAS,CAAC,EAAE;gBACxC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;gBACxC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,SAAS,EAAE,CAAC,CAAC;aAC1D;SACF;KACF;IAEM,SAAS,CAAC,QAAiB;QAChC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;KAClC;IAEM,SAAS,CAAC,QAAiB;QAChC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;KAClC;IAEM,SAAS,CAAC,QAAiB;QAChC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;KAClC;IAEM,SAAS,CAAC,QAAiB;QAChC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;KAClC;IAEM,SAAS,CAAC,QAAiB;QAChC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;KAClC;IAEM,WAAW,CAAC,IAAY,EAAE,KAAc;QAC7C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE;YAC3B,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,iBAAiB,IAAI,IAAI,CAAC,EAAE,CAAC,CAAC;YAC5D,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,uBAAuB,IAAI,CAAC,KAAK,IAAI,IAAI,IAAI,CAAC,EAAE,CAAC,CAAC;SACjF;QAED,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;YAC7B,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,IAAI,IAAI,KAAK,EAAE,CAAC,CAAC;YAE7D,IAAI,OAAO,IAAI,CAAC,KAAK,KAAK,QAAQ,EAAE;gBAClC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,uBAAuB,IAAI,CAAC,KAAK,IAAI,IAAI,IAAI,KAAK,EAAE,CAAC,CAAC;aAClF;SACF;KACF;IAEM,YAAY;QACjB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACxB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACxB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACxB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACxB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;KACzB;CACF,CAAA;AA7EW;IAAT,QAAQ;sCAAoB;AACnB;IAAT,QAAQ;sCAAoB;AACnB;IAAT,QAAQ;sCAAoB;AACnB;IAAT,QAAQ;sCAAoB;AACnB;IAAT,QAAQ;sCAAoB;AACnB;IAAT,QAAQ;yCAAuB;AANrB,UAAU;IAHtB,MAAM,CAAC,OAAO,CAAC;IACf,aAAa,CAAC,cAAc,CAAC;IAC7B,UAAU,CAACA,MAAI,CAAC;GACJ,UAAU,CA8EtB;;AClFD;AACA,MAAa,qBAAqB;IAyBhC;;QAhBO,OAAE,GAAY,KAAK,CAAC;;QAGpB,OAAE,GAAY,KAAK,CAAC;;QAGpB,OAAE,GAAY,KAAK,CAAC;;QAGpB,OAAE,GAAY,KAAK,CAAC;;QAGpB,OAAE,GAAY,KAAK,CAAC;QAEnB,aAAQ,GAAG,KAAK,CAAC;QAsBjB,8BAAyB,GAAG;YAClC,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC,WAAW,CAAC;YAC1C,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,MAAM,CAAC,UAAU,CAAC;YAExC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,IAAI,GAAG,CAAC;YAC5B,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,GAAG,GAAG,IAAI,IAAI,CAAC,KAAK,IAAI,GAAG,CAAC;YAChD,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,GAAG,GAAG,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC;YACjD,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC;YAClD,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAE5B,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;SACvB,CAAA;QA9BC,QAAQ,CAAC,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,MAAM,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;QAElE,IAAI,CAAC,yBAAyB,EAAE,CAAC;KAClC;IAEO,QAAQ;QACd,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,OAAO;SACR;QAED,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QAErB,IAAI,QAAQ,CAAC,MAAM,CAAC,qBAAqB,EAAE;YACzC,QAAQ,CAAC,MAAM,CAAC,qBAAqB,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC;SACvE;aAAM;YACL,UAAU,CAAC,IAAI,CAAC,yBAAyB,EAAE,GAAG,CAAC,CAAC;SACjD;KACF;IAeM,OAAO;QACZ,QAAQ,CAAC,MAAM,CAAC,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,yBAAyB,CAAC,CAAC;KAC/E;CACF;;MC/DY,WAAW;IAAxB;QACS,aAAQ,GAAG,MAAM,CAAC;KAI1B;CAAA;;SCEe,SAAS,CAAC,MAA8B;IACtD,MAAM,CAAC,eAAe,CAAC;QACrB,MAAM;QACN,UAAU;KACX,CAAC,CAAC;CACJ;;;;"}
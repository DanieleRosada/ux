{"version":3,"file":"index.js","sources":["../../src/ux-grid.ts","../../src/ux-grid-cell.ts","../../src/ux-responsive-utilities.ts","../../src/ux-grid-theme.ts","../../src/index.ts"],"sourcesContent":["import { customElement, bindable, inlineView } from 'aurelia-templating';\nimport { inject } from 'aurelia-dependency-injection';\nimport { StyleEngine, UxComponent } from '@aurelia-ux/core';\nimport { UxGridTheme } from './ux-grid-theme';\nimport * as VIEW from './ux-grid.html';\n\n@inject(Element, StyleEngine)\n@customElement('ux-grid')\n@inlineView(VIEW)\nexport class UxGrid implements UxComponent {\n  @bindable public theme: UxGridTheme;\n  @bindable public columns: null | number;\n\n  constructor(\n    public element: HTMLElement,\n    private styleEngine: StyleEngine) { }\n\n  public bind() {\n    this.themeChanged(this.theme);\n\n    if (this.columns != null) {\n      this.columnsChanged(this.columns);\n    }\n\n    this.processAttributes();\n  }\n\n  public processAttributes() {\n    const alignAttributes = [\n      'align-cells-top',\n      'align-cells-middle',\n      'align-cells-bottom',\n      'fixed',\n      'remove-padding'\n    ];\n\n    for (const attribute of alignAttributes) {\n      if (this.element.hasAttribute(attribute)) {\n        this.element.removeAttribute(attribute);\n        this.element.classList.add(`ux-grid--${attribute}`);\n      }\n    }\n  }\n\n  public themeChanged(newValue: any) {\n    if (newValue != null && newValue.themeKey == null) {\n      newValue.themeKey = 'grid';\n    }\n\n    this.styleEngine.applyTheme(newValue, this.element);\n  }\n\n  public columnsChanged(newValue: null | number) {\n    if (newValue != null) {\n      this.element.style.setProperty('grid-template-columns', `repeat(${newValue}, 1fr)`);\n    }\n  }\n}\n","import { customElement, bindable, inlineView } from 'aurelia-templating';\nimport { inject } from 'aurelia-dependency-injection';\nimport * as VIEW from './ux-grid-cell.html';\n\n@inject(Element)\n@customElement('ux-grid-cell')\n@inlineView(VIEW)\nexport class UxGridCell {\n  @bindable public xs?: string;\n  @bindable public sm?: string;\n  @bindable public md?: string;\n  @bindable public lg?: string;\n  @bindable public xl?: string;\n  @bindable public order?: string;\n\n  constructor(private element: HTMLElement) { }\n\n  public async bind() {\n    this.processAttributes();\n\n    this.xsChanged(this.xs);\n    this.smChanged(this.sm);\n    this.mdChanged(this.md);\n    this.lgChanged(this.lg);\n    this.xlChanged(this.xl);\n  }\n\n  public processAttributes() {\n    const alignAttributes = [\n      'align-self-top',\n      'align-self-middle',\n      'align-self-bottom',\n      'align-self-stretch'\n    ];\n\n    for (const attribute of alignAttributes) {\n      if (this.element.hasAttribute(attribute)) {\n        this.element.removeAttribute(attribute);\n        this.element.classList.add(`ux-grid-cell--${attribute}`);\n      }\n    }\n  }\n\n  public xsChanged(newValue?: string) {\n    this.sizeChanged('xs', newValue);\n  }\n\n  public smChanged(newValue?: string) {\n    this.sizeChanged('sm', newValue);\n  }\n\n  public mdChanged(newValue?: string) {\n    this.sizeChanged('md', newValue);\n  }\n\n  public lgChanged(newValue?: string) {\n    this.sizeChanged('lg', newValue);\n  }\n\n  public xlChanged(newValue?: string) {\n    this.sizeChanged('xl', newValue);\n  }\n\n  public sizeChanged(size: string, value?: string) {\n    for (let i = 0; i < 10; i++) {\n      this.element.classList.remove(`ux-grid-cell--${size}-${i}`);\n      this.element.classList.remove(`ux-grid-cell--order-${this.order}-${size}-${i}`);\n    }\n\n    if (typeof value === 'string') {\n      this.element.classList.add(`ux-grid-cell--${size}-${value}`);\n\n      if (typeof this.order === 'string') {\n        this.element.classList.add(`ux-grid-cell--order-${this.order}-${size}-${value}`);\n      }\n    }\n  }\n\n  public orderChanged() {\n    this.xsChanged(this.xs);\n    this.smChanged(this.sm);\n    this.mdChanged(this.md);\n    this.lgChanged(this.lg);\n    this.xlChanged(this.xl);\n  }\n}\n","import { PLATFORM } from 'aurelia-pal';\nimport { Disposable } from 'aurelia-binding';\n\n/** Utility class that assists with designing a responsive site. */\nexport class UxResponsiveUtilities implements Disposable {\n\n  /** Current screen height that can be used to set custom breakpoints. */\n  public height: number;\n\n  /** Current screen width that can be used to set custom breakpoints. */\n  public width: number;\n\n  /** Visible on screens smaller than 480px. */\n  public xs: boolean = false;\n\n  /** Visible on screens larger than 480px, and smaller than 960px. */\n  public sm: boolean = false;\n\n  /** Visible on screens larger than 960px, and smaller than 1280px. */\n  public md: boolean = false;\n\n  /** Visible on screens larger than 1280px, and smaller than 1925px. */\n  public lg: boolean = false;\n\n  /** Visible on screens larger than 1925px. */\n  public xl: boolean = false;\n\n  private updating = false;\n\n  constructor() {\n    PLATFORM.global.addEventListener('resize', () => this.onResize());\n\n    this.calculateResponsiveValues();\n  }\n\n  private onResize() {\n    if (this.updating) {\n      return;\n    }\n\n    this.updating = true;\n\n    if (PLATFORM.global.requestAnimationFrame) {\n      PLATFORM.global.requestAnimationFrame(this.calculateResponsiveValues);\n    } else {\n      setTimeout(this.calculateResponsiveValues, 100);\n    }\n  }\n\n  private calculateResponsiveValues = () => {\n    this.height = PLATFORM.global.innerHeight;\n    this.width = PLATFORM.global.innerWidth;\n\n    this.xs = this.width <= 480;\n    this.sm = this.width > 480 && this.width <= 960;\n    this.md = this.width > 960 && this.width <= 1280;\n    this.lg = this.width > 1280 && this.width <= 1925;\n    this.xl = this.width > 1925;\n\n    this.updating = false;\n  }\n\n  public dispose() {\n    PLATFORM.global.removeEventListener('resize', this.calculateResponsiveValues);\n  }\n}\n","import { UxTheme } from '@aurelia-ux/core';\n\nexport class UxGridTheme implements UxTheme {\n  public themeKey = 'grid';\n\n  public outerPadding: string;\n  public gutterSpacing: string;\n}\n","/// <reference path=\"html.d.ts\" />\nimport { FrameworkConfiguration } from 'aurelia-framework';\nimport { UxGrid } from './ux-grid';\nimport { UxGridCell } from './ux-grid-cell';\n\nexport { UxResponsiveUtilities } from './ux-responsive-utilities';\nexport { UxGridTheme } from './ux-grid-theme';\nexport { UxGrid, UxGridCell };\n\nexport function configure(config: FrameworkConfiguration) {\n  config.globalResources([\n    UxGrid,\n    UxGridCell\n  ]);\n}\n"],"names":["bindable","inject","StyleEngine","customElement","inlineView","VIEW","PLATFORM"],"mappings":"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"}